<html lang="th">
<head>
    <link rel="icon" type="image/png" href="https://i.ibb.co/xtTr6Qbr/5fa4b0f82c6ae48e779621bb14093cc0-tplv-tiktokx-cropcenter-1080-1080.jpg">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TN Store - Admin System</title>
    <style>
        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà */
.category-box {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-top: 15px;
    flex-wrap: wrap;
}
.category-tag {
    background: #ffffff;
    border: 1px solid #ddd;
    padding: 6px 15px;
    border-radius: 20px;
    font-size: 13px;
    cursor: pointer;
    transition: 0.3s;
    color: #333;
    text-decoration: none;
}
.category-tag:hover {
    background: #008cba;
    color: white;
    border-color: #008cba;
}
        /* ‡∏õ‡∏∏‡πà‡∏° 3 ‡∏Ç‡∏µ‡∏î */
.menu-icon {
    font-size: 30px;
    cursor: pointer;
    position: fixed;
    top: 15px;
    left: 15px;
    z-index: 999;
    background: white;
    padding: 5px 10px;
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

/* ‡πÅ‡∏ñ‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏Ç‡πâ‡∏≤‡∏á‡πÜ (Side Nav) */
.sidenav {
    height: 100%;
    width: 0; /* ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡πâ‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ */
    position: fixed;
    z-index: 101;
    top: 0;
    left: 0;
    background-color: #111;
    overflow-x: hidden;
    transition: 0.5s; /* ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ï‡∏≠‡∏ô‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏≠‡∏≠‡∏Å‡∏°‡∏≤ */
    padding-top: 60px;
}

.sidenav a {
    padding: 15px 32px;
    text-decoration: none;
    font-size: 20px;
    color: #818181;
    display: block;
    transition: 0.3s;
}

.sidenav a:hover { color: #f1f1f1; }

.sidenav .closebtn {
    position: absolute;
    top: 0;
    right: 25px;
    font-size: 36px;
    margin-left: 50px;
}
        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏Ç‡∏≠‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ */
.search-container {
    text-align: center;
    margin-bottom: 30px;
}
#searchInput {
    width: 80%;
    max-width: 400px;
    padding: 12px;
    font-size: 16px;
    border: 2px solid #ddd;
    border-radius: 25px; /* ‡∏Ç‡∏≠‡∏ö‡∏°‡∏ô */
    outline: none;
}
#searchInput:focus { border-color: #008cba; }
        /* ‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á (CSS) */
        body { font-family: 'Arial', sans-serif; background-color: #f4f4f4; margin: 0; padding: 20px; }
        .container { max-width: 1000px; margin: auto; }
        h1 { text-align: center; color: #333; }
        
        /* ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏ß‡∏≤‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ */
        .product-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: 20px; 
        }
        
        /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ */
        .product-card { 
            background: white; padding: 15px; border-radius: 10px; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); text-align: center;
        }
        .product-card img { max-width: 100%; border-radius: 5px; height: 200px; object-fit: cover; }
        .price { color: #0a0205; font-size: 1.2em; font-weight: bold; }
        .buy-button { 
            display: inline-block; background: #070707; color: white; 
            padding: 10px 20px; text-decoration: none; border-radius: 5px; margin-top: 10px; 
        }
        /* CSS ‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì */
        body { font-family: 'Arial', sans-serif; background-color: #f4f4f4; margin: 0; padding: 20px; }
        .container { max-width: 1000px; margin: auto; }
        h1 { text-align: center; color: #333; }
        
        .menu-icon { font-size: 30px; cursor: pointer; position: fixed; top: 15px; left: 15px; z-index: 999; background: white; padding: 5px 10px; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .sidenav { height: 100%; width: 0; position: fixed; z-index: 101; top: 0; left: 0; background-color: #111; overflow-x: hidden; transition: 0.5s; padding-top: 60px; }
        .sidenav a { padding: 15px 32px; text-decoration: none; font-size: 20px; color: #818181; display: block; transition: 0.3s; }
        .sidenav a:hover { color: #f1f1f1; }
        .sidenav .closebtn { position: absolute; top: 0; right: 25px; font-size: 36px; }

        .search-container { text-align: center; margin-bottom: 30px; }
        #searchInput { width: 80%; max-width: 400px; padding: 12px; font-size: 16px; border: 2px solid #ddd; border-radius: 25px; outline: none; }

        .product-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .product-card { background: white; padding: 15px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); text-align: center; position: relative; }
        .product-card img { max-width: 100%; border-radius: 5px; height: 200px; object-fit: cover; }
        .price { color: #0a0205; font-size: 1.2em; font-weight: bold; }
        .buy-button { display: inline-block; background: #070707; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; margin-top: 10px; }

    </style>
</head>
<body>
    
<div class="menu-icon" onclick="openNav()">&#9776;</div>

<div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a href="#" onclick="showPage('home')">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
    <a href="#" onclick="showPage('promo')">‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô</a>
</div>
<div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin-top: 20px;">
    <a href="https://www.facebook.com/share/14TMsL4xRL8/" style="text-decoration: none; color: rgb(33, 27, 27); background: #fefeff; padding: 10px 15px; border-radius: 5px; font-size: 14px;">Facebook</a>
    
    <a href="https://www.tiktok.com/@tn.store83?_r=1&_t=ZS-93AMqTfuZUK" style="text-decoration: none; color: rgb(8, 1, 1); background: #fefdfd; padding: 10px 15px; border-radius: 5px; font-size: 14px;">TikTok</a>
    
    <a href="https://www.instagram.com/floralhaven_19?igsh=MW04dGgyNWtkZmI5Mw==" style="text-decoration: none; color: rgb(8, 2, 2); background: #fcfbfb; padding: 10px 15px; border-radius: 5px; font-size: 14px;">Instagram</a>
</div>
<header>
  <div class="logo">
    <a href="index.html">
      <img src="https://i.ibb.co/xtTr6Qbr/5fa4b0f82c6ae48e779621bb14093cc0-tplv-tiktokx-cropcenter-1080-1080.jpg" " alt="‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó" width="80">
    </a>
  </div>
</header>
<div class="container">
    <h1>TN.STORE</h1>

    <div class="search-container">
        <input type="text" id="searchInput" onkeyup="searchProduct()" placeholder="‡∫û‡∫¥‡∫°‡∫ä‡∫∑‡ªà‡∫™‡∫µ‡∫ô‡∫Ñ‡ªâ‡∫≤‡ªÄ‡∫û‡∫∑‡ªà‡∫≠‡∫Ñ‡∫ª‡ªâ‡∫ô‡∫´‡∫≤...">
    </div>
    <div class="search-container">
    <div class="category-box">
        <span class="category-tag" onclick="setSearch('‡ªÄ‡∫™‡∫∑‡ªâ‡∫≠')">‡ªÄ‡∫™‡∫∑‡ªâ‡∫≠‡∫ú‡ªâ‡∫≤</span>
        <span class="category-tag" onclick="setSearch('‡∫™‡∫ª‡ªà‡∫á')">‡∫™‡∫ª‡ªà‡∫á</span>
        <span class="category-tag" onclick="setSearch('‡ªÄ‡∫Å‡∫µ‡∫ö')">‡ªÄ‡∫Å‡∫µ‡∫ö</span>
        <span class="category-tag" onclick="setSearch('‡∫Ç‡∫∞‡ªù‡∫ª‡∫°')">‡∫Ç‡∫∞‡ªù‡∫ª‡∫°</span>
        <span class="category-tag" onclick="setSearch('‡ªÄ‡∫Ñ‡∫∑‡ªà‡∫≠‡∫á‡∫õ‡∫∞‡∫î‡∫±‡∫ö')">‡ªÄ‡∫Ñ‡∫∑‡ªà‡∫∂‡∫≠‡∫á‡∫õ‡∫∞‡∫î‡∫±‡∫ö</span>
        <span class="category-tag" onclick="setSearch('')">‡∫ó‡∫±‡ªâ‡∫á‡ªù‡∫ª‡∫î</span>
    </div>


    <div id="productGrid" class="product-grid">
        </div>

    <div id="promo-page" style="display:none; background: white; padding: 20px; border-radius: 15px; text-align: center; margin-top: 20px; border: 2px dashed #faf8f8;">
        <h2 style="color: #0c0c0c;">üî• ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏© üî•</h2>
        <p>‚úÖ <b>...:</b>...</p>
        <button onclick="showPage('home')" style="padding: 10px; cursor: pointer;">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
    </div>
    <footer style="text-align: center; padding: 20px; background: #fbfafa; margin-top: 20px;">üìç ‡∫Æ‡ªâ‡∫≤‡∫ô TN Store83 ‡∫≠‡∫≠‡∫ô‡∫•‡∫≤‡∫ç ‡ªÅ‡∫°‡ªà‡∫Ñ‡ªâ‡∫≤‡∫¢‡∫π‡ªà‡∫ô‡∫∞‡∫Ñ‡∫≠‡∫ô‡∫´‡∫º‡∫ß‡∫á‡∫ß‡∫Ω‡∫á‡∫à‡∫±‡∫ô: [laos] | ‡πÇ‡∏ó‡∏£: [‡ªÄ‡∫ö‡∫µ‡ªÇ‡∫ó‡∫•‡∫∞‡∫™‡∫±‡∫ö 020 59 112 313 ]</footer>

</div>

<script>
    // 1. ‡∫ï‡∫±‡ªâ‡∫á‡∫Ñ‡ªà‡∫≤‡∫Å‡∫≤‡∫ô‡ªÄ‡∫ä‡∫∑‡ªà‡∫≠‡∫°‡∫ï‡ªç‡ªà (‡ªÄ‡∫≠‡∫ª‡∫≤‡ªÅ‡∫ï‡ªà ID ‡∫Ç‡∫≠‡∫á Sheet ‡∫°‡∫≤)
const SHEET_ID = '11GIYTxq6zA0o7lJ_Qzy094jnvC48tqW_3fhAWTm2I6w';
const SHEET_NAME = '‡∏ä‡∏µ‡∏î1'; // ‡∫ä‡∫∑‡ªà‡ªÅ‡∫ó‡∫±‡∫ö‡∫Ç‡∫≠‡∫á‡ªÄ‡∫à‡∫ª‡ªâ‡∫≤

const url = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json&sheet=${SHEET_NAME}`;




    function fetchGoogleSheets() {
        fetch(url)
            .then(res => res.text())
            .then(data => {
                // ‡∫ï‡∫±‡∫î‡∫Ç‡ªç‡ªâ‡∫Ñ‡∫ß‡∫≤‡∫°‡∫™‡ªà‡∫ß‡∫ô‡ªÄ‡∫Å‡∫µ‡∫ô‡∫ó‡∫µ‡ªà Google ‡∫™‡∫ª‡ªà‡∫á‡∫°‡∫≤‡ªÉ‡∫´‡ªâ‡ªÄ‡∫õ‡∫±‡∫ô JSON ‡∫ó‡∫µ‡ªà‡∫ñ‡∫∑‡∫Å‡∫ï‡ªâ‡∫≠‡∫á
                const jsonData = JSON.parse(data.substring(47, data.length - 2));
                const rows = jsonData.table.rows;
                
                // ‡ªÅ‡∫õ‡∫á‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡∫à‡∫≤‡∫Å‡ªÅ‡∫ï‡ªà‡∫•‡∫∞ Row ‡ªÉ‡∫´‡ªâ‡∫°‡∫≤‡∫¢‡∫π‡ªà‡ªÉ‡∫ô‡∫Æ‡∫π‡∫ö‡ªÅ‡∫ö‡∫ö‡∫ó‡∫µ‡ªà Code ‡ªÄ‡∫Æ‡∫ª‡∫≤‡ªÄ‡∫Ç‡∫ª‡ªâ‡∫≤‡ªÉ‡∫à
                products = rows.filter((row, index) => index > 0).map((row, index) => ({
                    id: index + 1,
                    name: row.c[0] ? row.c[0].v : '',
                    desc: row.c[1] ? row.c[1].v : '',
                    price: row.c[2] ? row.c[2].v : '',
                    img: row.c[3] ? row.c[3].v : ''
                }));

                renderProducts(); // ‡∫™‡∫∞‡ªÅ‡∫î‡∫á‡∫ú‡∫ª‡∫ô‡∫™‡∫¥‡∫ô‡∫Ñ‡ªâ‡∫≤‡∫ó‡∫±‡∫ô‡∫ó‡∫µ
            })
            .catch(err => {
                console.error("Error:", err);
                document.getElementById('productGrid').innerHTML = "<p style='text-align:center;'>‡∫ö‡ªç‡ªà‡∫™‡∫≤‡∫°‡∫≤‡∫î‡ªÇ‡∫´‡∫º‡∫î‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡ªÑ‡∫î‡ªâ, ‡∫Å‡∫∞‡∫•‡∫∏‡∫ô‡∫≤‡∫Å‡∫ß‡∫î‡∫™‡∫≠‡∫ö‡∫Å‡∫≤‡∫ô Share Google Sheets.</p>";
            });
    }

    // 3. ‡∫ü‡∫±‡∫á‡∫ä‡∫±‡∫ô‡∫™‡∫∞‡ªÅ‡∫î‡∫á‡∫™‡∫¥‡∫ô‡∫Ñ‡ªâ‡∫≤‡ªÉ‡∫ô‡ªú‡ªâ‡∫≤‡ªÄ‡∫ß‡∫±‡∫ö
    function renderProducts() {
        const grid = document.getElementById('productGrid');
        grid.innerHTML = '';
        
        products.forEach((pd, index) => {
            grid.innerHTML += `
                <div class="product-card">
                    <img src="${pd.img}" alt="${pd.name}" onerror="this.src='https://via.placeholder.com/250?text=No+Image'">
                    <h3>${pd.name}</h3>
                    <p>${pd.desc}</p>
                    <p class="price">${pd.price}</p>
                    <button class="buy-button" onclick="sendOrder(${index})">WhatsApp</button>
                </div>
            `;
        });
    }

    // 4. ‡∫ü‡∫±‡∫á‡∫ä‡∫±‡∫ô‡∫™‡∫ª‡ªà‡∫á‡∫Ñ‡∫≥‡∫™‡∫±‡ªà‡∫á‡∫ä‡∫∑‡ªâ‡ªÑ‡∫õ WhatsApp
    function sendOrder(index) {
        const item = products[index];
        const phoneNumber = "8562059112313";
        const message = `‡∫™‡∫∞‡∫ö‡∫≤‡∫ç‡∫î‡∫µ TN Store! ‡∫Ç‡ªâ‡∫≠‡∫ç‡∫™‡∫ª‡∫ô‡ªÉ‡∫à‡∫ä‡∫∑‡ªâ‡∫™‡∫¥‡∫ô‡∫Ñ‡ªâ‡∫≤‡∫ô‡∫µ‡ªâ:\n\n` +
                        `üì¶ ‡∫ä‡∫∑‡ªà‡∫™‡∫¥‡∫ô‡∫Ñ‡ªâ‡∫≤: ${item.name}\n` +
                        `üí∞ ‡∫•‡∫≤‡∫Ñ‡∫≤: ${item.price}\n` +
                        `üìù ‡∫•‡∫≤‡∫ç‡∫•‡∫∞‡∫≠‡∫Ω‡∫î: ${item.desc}\n\n` +
                        `‡∫Æ‡∫π‡∫ö‡∫û‡∫≤‡∫ö: ${item.img}`;

        const encodedMessage = encodeURIComponent(message);
        window.open(`https://wa.me/${phoneNumber}?text=${encodedMessage}`, '_blank');
    }

    // 5. ‡∫ü‡∫±‡∫á‡∫ä‡∫±‡∫ô‡∫Ñ‡∫ª‡ªâ‡∫ô‡∫´‡∫≤ ‡ªÅ‡∫•‡∫∞ ‡∫õ‡ªà‡∫Ω‡∫ô‡ªú‡ªâ‡∫≤ (‡ªÉ‡∫ä‡ªâ‡∫Ç‡∫≠‡∫á‡ªÄ‡∫î‡∫µ‡∫°)
    function searchProduct() {
        let input = document.getElementById('searchInput').value.toLowerCase();
        let cards = document.getElementsByClassName('product-card');
        for (let i = 0; i < cards.length; i++) {
            let name = cards[i].getElementsByTagName('h3')[0].innerText.toLowerCase();
            cards[i].style.display = name.includes(input) ? "" : "none";
        }
    }

    function setSearch(value) {
        document.getElementById('searchInput').value = value;
        searchProduct();
    }

    function openNav() { document.getElementById("mySidenav").style.width = "250px"; }
    function closeNav() { document.getElementById("mySidenav").style.width = "0"; }

    function showPage(pageId) {
        document.getElementById('promo-page').style.display = (pageId === 'promo') ? 'block' : 'none';
        document.getElementById('productGrid').style.display = (pageId === 'home') ? 'grid' : 'none';
        document.querySelector('.search-container').style.display = (pageId === 'home') ? 'block' : 'none';
        closeNav();
    }

    // ‡ªÄ‡∫•‡∫µ‡ªà‡∫°‡∫ï‡∫ª‡ªâ‡∫ô‡∫î‡∫∂‡∫á‡∫Ç‡ªç‡ªâ‡∫°‡∫π‡∫ô‡ªÄ‡∫°‡∫∑‡ªà‡∫≠‡ªÄ‡∫õ‡∫µ‡∫î‡ªÄ‡∫ß‡∫±‡∫ö
    fetchGoogleSheets();
</script>

</body>

</html>

